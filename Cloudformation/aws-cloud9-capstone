{
  "Resources": {
    "Instance": {
      "Type": "AWS::EC2::Instance",
      "Properties": {
        "ImageId": "ami-077845acaa24b6499",
        "InstanceType": "m5.large",
        "UserData": "IyEvYmluL2Jhc2gKClVOSVhfVVNFUj0idWJ1bnR1IgpVTklYX1VTRVJfSE9NRT0iL2hvbWUvdWJ1bnR1IgpFTlZJUk9OTUVOVF9QQVRIPSIvaG9tZS91YnVudHUvZW52aXJvbm1lbnQiClVOSVhfR1JPVVA9JChpZCAtZyAtbiAiJFVOSVhfVVNFUiIpCgojIGFkZCBTU0gga2V5Cmluc3RhbGwgLWcgIiRVTklYX0dST1VQIiAtbyAiJFVOSVhfVVNFUiIgLW0gNzU1IC1kICIkVU5JWF9VU0VSX0hPTUUiLy5zc2gKY2F0IDw8J0VPRicgPj4gIiRVTklYX1VTRVJfSE9NRSIvLnNzaC9hdXRob3JpemVkX2tleXMKIyBJbXBvcnRhbnQKIyAtLS0tLS0tLS0KIyBUaGUgZm9sbG93aW5nIHB1YmxpYyBrZXkgaXMgcmVxdWlyZWQgYnkgQ2xvdWQ5IElERQojIFJlbW92aW5nIHRoaXMga2V5IHdpbGwgbWFrZSB0aGlzIEVDMiBpbnN0YW5jZSBpbmFjY2Vzc2libGUgYnkgdGhlIElERQojCmNlcnQtYXV0aG9yaXR5IHNzaC1yc2EgQUFBQUIzTnphQzF5YzJFQUFBQURBUUFCQUFBQ0FRQ3Z0dk1SMUFlY3RBQUMrUjU2cEtydGloY2p5VXdnYUhUeGhQL3JJMkJvVThtV3Y3dXpQclhSRGordE44TFI3Mk05UFgrb1JlVHFwdmRnSXpIdjUxRGFoSHh1V1FRU2NJRnRDekpmaGh4a1ZSdktJWktkTWZrSmxjWE91QURqUjRzTDVWV3ZtY1Nsa0FHRk43MEt2M0FHQy9GTDZBYWZuakxMQnhheHZmbStvWGZMOHVuSXFFSERSSG43N3h1aDcxNFBuRXAvaUhJRzNMTEJNaDFFVklmQis0NWxKNkZZamp2Zi96ejB3RzY0UzR3L29PdXZXWXgvYmpVc3dobXNrcjlXTkpOWFIxdUlaaHU0T1Z0aEZjWDdGekU3ajYyTnRzcVIwdUcxRnozRzlPeXExbmVVbGdWV09xNWZyeUJma2tuWTFzeDB5TytWUWZMVmQrazV0WjVtWjlPUllUVk05M2xJNkdEeUM4WkpsTHRabWY1cGVTdE56UjZxTXJLdWVqQVJ6VEJvbnJBS0JOaVVtNVBVc0l5TUxnaTJna01la3lZdzVMSUtxUVN3UFBRMm5GeGs5Q1FTQ2xQZEpyMmo4UGZIZUFXWmdxL2IrNTkxL2NPOWRGZ1pQTkZFNVcvckJaV2liNkk5R2tSMlpZUHVMWTQ2U09GVkRBTWJ4QmczVlF5b2FzanR5SkhGalp2UmRTK2UzZ2RiNjRNQ2s2Rk5iaHorb0p6Uk9wbjN1NVVrMThrQ1prL0JJZGxkbm56MW1vVXorRENzUURXNFpSbGh6U094S2dVNnU2VzBiR21Fb001c0lVZEZON1ZzVDZnbnppVnFPQmhRTTVsckRiYzBhK1hoSEUza1Q5S2RjZlFCWXJNN0FhNEtDL1JCemI1RHBPb2gvWW9WTFpKNWZRPT0gMjk2MTU2OTZmYmNmNDA0YWEwYmFiM2I5YTBkZmE3MTdAY2xvdWQ5LmFtYXpvbi5jb20KCgojCiMgQWRkIGFueSBhZGRpdGlvbmFsIGtleXMgYmVsb3cgdGhpcyBsaW5lCiMKCkVPRgoKIyBhbGxvdyBhdXRvbWF0aWMgc2h1dGRvd24KZWNobyAiJFVOSVhfVVNFUiAgICBBTEw9KEFMTCkgTk9QQVNTV0Q6IC9zYmluL3Bvd2Vyb2ZmLCAvc2Jpbi9yZWJvb3QsIC9zYmluL3NodXRkb3duIiA+PiAvZXRjL3N1ZG9lcnMKCmxuIC1zIC9vcHQvYzkgIiRVTklYX1VTRVJfSE9NRSIvLmM5CmNob3duIC1SICIkVU5JWF9VU0VSIjoiJFVOSVhfR1JPVVAiICIkVU5JWF9VU0VSX0hPTUUiLy5jOSAvb3B0L2M5Cmluc3RhbGwgLWcgIiRVTklYX0dST1VQIiAtbyAiJFVOSVhfVVNFUiIgLW0gNzU1IC1kICIkRU5WSVJPTk1FTlRfUEFUSCIKCmlmIFsgIiRFTlZJUk9OTUVOVF9QQVRIIiA9PSAiL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiIF0gJiYgZ3JlcCAiYWxpYXMgcHl0aG9uPXB5dGhvbjI3IiAiJFVOSVhfVVNFUl9IT01FIi8uYmFzaHJjOyB0aGVuCgogICAgY2F0IDw8J0VPRicgPiAiJFVOSVhfVVNFUl9IT01FIi8uYmFzaHJjCiMgLmJhc2hyYwoKZXhwb3J0IFBBVEg9JFBBVEg6JEhPTUUvLmxvY2FsL2JpbjokSE9NRS9iaW4KCiMgbG9hZCBudm0KZXhwb3J0IE5WTV9ESVI9IiRIT01FLy5udm0iClsgIiRCQVNIX1ZFUlNJT04iIF0gJiYgbnBtKCkgewogICAgIyBoYWNrOiBhdm9pZCBzbG93IG5wbSBzYW5pdHkgY2hlY2sgaW4gbnZtCiAgICBpZiBbICIkKiIgPT0gImNvbmZpZyBnZXQgcHJlZml4IiBdOyB0aGVuIHdoaWNoIG5vZGUgfCBzZWQgInMvYmluXC9ub2RlLy8iOwogICAgZWxzZSAkKHdoaWNoIG5wbSkgIiRAIjsgZmkKfQojIFsgLXMgIiROVk1fRElSL252bS5zaCIgXSAmJiAuICIkTlZNX0RJUi9udm0uc2giICAjIFRoaXMgbG9hZHMgbnZtCnJ2bV9zaWxlbmNlX3BhdGhfbWlzbWF0Y2hfY2hlY2tfZmxhZz0xICMgcHJldmVudCBydm0gY29tcGxhaW50cyB0aGF0IG52bSBpcyBmaXJzdCBpbiBQQVRICnVuc2V0IG5wbSAjIGVuZCBoYWNrCgoKIyBVc2VyIHNwZWNpZmljIGFsaWFzZXMgYW5kIGZ1bmN0aW9ucwphbGlhcyBweXRob249cHl0aG9uMjcKCiMgbW9kaWZpY2F0aW9ucyBuZWVkZWQgb25seSBpbiBpbnRlcmFjdGl2ZSBtb2RlCmlmIFsgIiRQUzEiICE9ICIiIF07IHRoZW4KICAgICMgU2V0IGRlZmF1bHQgZWRpdG9yIGZvciBnaXQKICAgIGdpdCBjb25maWcgLS1nbG9iYWwgY29yZS5lZGl0b3IgL3Vzci9iaW4vbmFubwoKICAgICMgVHVybiBvbiBjaGVja3dpbnNpemUKICAgIHNob3B0IC1zIGNoZWNrd2luc2l6ZQoKICAgICMga2VlcCBtb3JlIGhpc3RvcnkKICAgIHNob3B0IC1zIGhpc3RhcHBlbmQKICAgIGV4cG9ydCBISVNUU0laRT0xMDAwMDAKICAgIGV4cG9ydCBISVNURklMRVNJWkU9MTAwMDAwCiAgICBleHBvcnQgUFJPTVBUX0NPTU1BTkQ9Imhpc3RvcnkgLWE7IgoKICAgICMgU291cmNlIGZvciBHaXQgUFMxIGZ1bmN0aW9uCiAgICBpZiAhIHR5cGUgLXQgX19naXRfcHMxICYmIFsgLWUgIi91c3Ivc2hhcmUvZ2l0LWNvcmUvY29udHJpYi9jb21wbGV0aW9uL2dpdC1wcm9tcHQuc2giIF07IHRoZW4KICAgICAgICAuIC91c3Ivc2hhcmUvZ2l0LWNvcmUvY29udHJpYi9jb21wbGV0aW9uL2dpdC1wcm9tcHQuc2gKICAgIGZpCgogICAgIyBDbG91ZDkgZGVmYXVsdCBwcm9tcHQKICAgIF9jbG91ZDlfcHJvbXB0X3VzZXIoKSB7CiAgICAgICAgaWYgWyAiJEM5X1VTRVIiID0gcm9vdCBdOyB0aGVuCiAgICAgICAgICAgIGVjaG8gIiRVU0VSIgogICAgICAgIGVsc2UKICAgICAgICAgICAgZWNobyAiJEM5X1VTRVIiCiAgICAgICAgZmkKICAgIH0KCiAgICBQUzE9J1xbXDAzM1swMTszMm1cXSQoX2Nsb3VkOV9wcm9tcHRfdXNlcilcW1wwMzNbMDBtXF06XFtcMDMzWzAxOzM0bVxdXHdcW1wwMzNbMDBtXF0kKF9fZ2l0X3BzMSAiICglcykiIDI+L2Rldi9udWxsKSAkICcKZmkKCkVPRgoKICAgIGNob3duICIkVU5JWF9VU0VSIjoiJFVOSVhfR1JPVVAiICIkVU5JWF9VU0VSX0hPTUUiLy5iYXNocmMKZmkKCmlmIFsgIiRFTlZJUk9OTUVOVF9QQVRIIiA9PSAiL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiIF0gJiYgWyAhIC1mICIkRU5WSVJPTk1FTlRfUEFUSCIvUkVBRE1FLm1kIF07IHRoZW4KICAgIGNhdCA8PCdFT0YnID4+ICIkRU5WSVJPTk1FTlRfUEFUSCIvUkVBRE1FLm1kCiAgICAgICAgIF9fXyAgICAgICAgX19fX19fICAgICBfX19fIF8gICAgICAgICAgICAgICAgIF8gIF9fXwogICAgICAgIC8gXCBcICAgICAgLyAvIF9fX3wgICAvIF9fX3wgfCBfX18gIF8gICBfICBfX3wgfC8gXyBcCiAgICAgICAvIF8gXCBcIC9cIC8gL1xfX18gXCAgfCB8ICAgfCB8LyBfIFx8IHwgfCB8LyBfYCB8IChfKSB8CiAgICAgIC8gX19fIFwgViAgViAvICBfX18pIHwgfCB8X19ffCB8IChfKSB8IHxffCB8IChffCB8XF9fLCB8CiAgICAgL18vICAgXF9cXy9cXy8gIHxfX19fLyAgIFxfX19ffF98XF9fXy8gXF9fLF98XF9fLF98ICAvXy8KIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKSGkgdGhlcmUhIFdlbGNvbWUgdG8gQVdTIENsb3VkOSEKClRvIGdldCBzdGFydGVkLCBjcmVhdGUgc29tZSBmaWxlcywgcGxheSB3aXRoIHRoZSB0ZXJtaW5hbCwKb3IgdmlzaXQgaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnNvbGUvY2xvdWQ5LyBmb3Igb3VyIGRvY3VtZW50YXRpb24uCgpIYXBweSBjb2RpbmchCgpFT0YKCiAgICBjaG93biAiJFVOSVhfVVNFUiI6IiRVTklYX0dST1VQIiAiJFVOSVhfVVNFUl9IT01FIi9lbnZpcm9ubWVudC9SRUFETUUubWQKZmkKCiMgRml4IGZvciBwZXJtaXNzaW9uIGVycm9yIHdoZW4gdHJ5aW5nIHRvIGNhbGwgYGdlbSBpbnN0YWxsYApjaG93biAiJFVOSVhfVVNFUiIgLVIgL3Vzci9sb2NhbC9ydm0vZ2VtcwoKI1RoaXMgc2NyaXB0IGlzIGFwcGVuZGVkIHRvIGFub3RoZXIgYmFzaCBzY3JpcHQsIHNvIGl0IGRvZXMgbm90IG5lZWQgYSBiYXNoIHNjcmlwdCBmaWxlIGhlYWRlci4KClVOSVhfVVNFUl9IT01FPSIvaG9tZS91YnVudHUiCgpDOV9ESVI9JFVOSVhfVVNFUl9IT01FLy5jOQpDT05GSUdfRklMRV9QQVRIPSIkQzlfRElSIi9hdXRvc2h1dGRvd24tY29uZmlndXJhdGlvbgpWRlNfQ0hFQ0tfRklMRV9QQVRIPSIkQzlfRElSIi9zdG9wLWlmLWluYWN0aXZlLnNoCgplY2hvICJTSFVURE9XTl9USU1FT1VUPTMwIiA+ICIkQ09ORklHX0ZJTEVfUEFUSCIKY2htb2QgYSt3ICIkQ09ORklHX0ZJTEVfUEFUSCIKCmVjaG8gLWUgJyMhL2Jpbi9iYXNoCnNldCAtZXVvIHBpcGVmYWlsCkNPTkZJRz0kKGNhdCAnJENPTkZJR19GSUxFX1BBVEgnKQpTSFVURE9XTl9USU1FT1VUPSR7Q09ORklHIyo9fQppZiAhIFtbICRTSFVURE9XTl9USU1FT1VUID1+IF5bMC05XSokIF1dOyB0aGVuCiAgICBlY2hvICJzaHV0ZG93biB0aW1lb3V0IGlzIGludmFsaWQiCiAgICBleGl0IDEKZmkKaXNfc2h1dHRpbmdfZG93bigpIHsKICAgIGlzX3NodXR0aW5nX2Rvd25fc3lzdGVtX2QgJj4gL2Rldi9udWxsIHx8IGlzX3NodXR0aW5nX2Rvd25faW5pdF9kICY+IC9kZXYvbnVsbAp9CmlzX3NodXR0aW5nX2Rvd25fc3lzdGVtX2QoKSB7CiAgICBsb2NhbCBUSU1FT1VUCiAgICBUSU1FT1VUPSQoYnVzY3RsIGdldC1wcm9wZXJ0eSBvcmcuZnJlZWRlc2t0b3AubG9naW4xIC9vcmcvZnJlZWRlc2t0b3AvbG9naW4xIG9yZy5mcmVlZGVza3RvcC5sb2dpbjEuTWFuYWdlciBTY2hlZHVsZWRTaHV0ZG93bikKICAgIGlmIFsgIiQ/IiAtbmUgIjAiIF07IHRoZW4KICAgICAgICByZXR1cm4gMQogICAgZmkKICAgIGlmIFsgIiQoZWNobyAkVElNRU9VVCB8IGF3ayAie3ByaW50IFwkM30iKSIgPT0gIjAiIF07IHRoZW4KICAgICAgICByZXR1cm4gMQogICAgZWxzZQogICAgICAgIHJldHVybiAwCiAgICBmaQp9CmlzX3NodXR0aW5nX2Rvd25faW5pdF9kKCkgewogICAgcGdyZXAgc2h1dGRvd24KfQppc192ZnNfY29ubmVjdGVkKCkgewogICAgcGdyZXAgdmZzLXdvcmtlciA+L2Rldi9udWxsCn0KCmlmIGlzX3NodXR0aW5nX2Rvd247IHRoZW4KICAgIGlmIFtbICEgJFNIVVRET1dOX1RJTUVPVVQgPX4gXlswLTldKyQgXV0gfHwgaXNfdmZzX2Nvbm5lY3RlZDsgdGhlbgogICAgICAgIHN1ZG8gc2h1dGRvd24gLWMKICAgIGZpCmVsc2UKICAgIGlmIFtbICRTSFVURE9XTl9USU1FT1VUID1+IF5bMC05XSskIF1dICYmICEgaXNfdmZzX2Nvbm5lY3RlZDsgdGhlbgogICAgICAgIHN1ZG8gc2h1dGRvd24gLWggJFNIVVRET1dOX1RJTUVPVVQKICAgIGZpCmZpJyA+ICIkVkZTX0NIRUNLX0ZJTEVfUEFUSCIKCmNobW9kICt4ICIkVkZTX0NIRUNLX0ZJTEVfUEFUSCIKCmVjaG8gIiogKiAqICogKiByb290ICRWRlNfQ0hFQ0tfRklMRV9QQVRIIiA+IC9ldGMvY3Jvbi5kL2M5LWF1dG9tYXRpYy1zaHV0ZG93bgo=",
        "Tags": [
          {
            "Key": "Name",
            "Value": "aws-cloud9-capstone-29615696fbcf404aa0bab3b9a0dfa717"
          }
        ],
        "NetworkInterfaces": [
          {
            "AssociatePublicIpAddress": true,
            "DeviceIndex": 0,
            "SubnetId": "subnet-0667ff590d303e32d",
            "GroupSet": [{"Ref": "InstanceSecurityGroup"}]
          }
        ]
      }
    },
    "InstanceSecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Security group for AWS Cloud9 environment aws-cloud9-capstone-29615696fbcf404aa0bab3b9a0dfa717",
        "VpcId": "vpc-0dfb01874b5a0e92c"
,        "SecurityGroupIngress": [
          {
            "FromPort": 22,
            "ToPort": 22,
            "IpProtocol": "tcp",
            "CidrIp": "18.188.9.32/27"
          },
          {
            "FromPort": 22,
            "ToPort": 22,
            "IpProtocol": "tcp",
            "CidrIp": "18.188.9.0/27"
          }
        ]
        ,"Tags": [
          {
            "Key": "Name",
            "Value": "aws-cloud9-capstone-29615696fbcf404aa0bab3b9a0dfa717"
          }
        ]
      }
    }
  }
}
